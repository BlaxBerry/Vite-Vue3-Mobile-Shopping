import{p as e,a as t,u as s,r as a,c as o,b as n,d as r,w as u,o as c,e as i,f as m,g as d,F as l,D as p,h,i as _,j as A,k as g,l as f,B as E,S as P,m as b,n as L,G as I,q as S,C as T,R as y,I as v,L as k,s as V,T as O,t as j,v as R,E as U,x as C,y as D,z as w,P as x,A as N,H as G,J as B,K as H,M as K,N as Q,O as J,Q as M,U as q,V as F,W as Z,X as z,Y as W,Z as X,_ as Y,$,a0 as ee,a1 as te,a2 as se,a3 as ae,a4 as oe}from"./vendor.ee1905bb.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const ne={setup(){const e=s(),t=a(0),n=o((()=>e.state.cart.cartAmount));return e.dispatch("getCartAmount"),{active:t,cartAmount:n}}};e("data-v-4ed2634c");const re=m("Home"),ue=m("Category"),ce=m("Topic"),ie=m("Cart"),me=m("My");t(),ne.render=function(e,t,s,a,o,m){const d=n("van-tabbar-item"),l=n("van-tabbar");return c(),r(l,{modelValue:a.active,"onUpdate:modelValue":t[0]||(t[0]=e=>a.active=e),route:"",class:"van-safe-area-bottom","active-color":"#ff6034"},{default:u((()=>[i(d,{icon:"home-o",to:"/home"},{default:u((()=>[re])),_:1}),i(d,{icon:"apps-o",to:"/category"},{default:u((()=>[ue])),_:1}),i(d,{icon:"label-o",to:"/topic"},{default:u((()=>[ce])),_:1}),i(d,{icon:"shopping-cart-o",badge:a.cartAmount,to:"/cart"},{default:u((()=>[ie])),_:1},8,["badge"]),i(d,{icon:"user-o",to:"/user"},{default:u((()=>[me])),_:1})])),_:1},8,["modelValue"])},ne.__scopeId="data-v-4ed2634c";const de={components:{Tabbar:ne},setup(){}};de.render=function(e,t,s,a,o,r){const u=n("router-view"),m=n("Tabbar");return c(),d(l,null,[i(u),i(m)],64)};const le={},pe=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/Vite-Vue3-Mobile-Shopping/${e}`)in le)return;le[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};function he(e){p.confirm({title:"Please Login",message:"请先登后才能访问",theme:"round-button",confirmButtonText:"Confirm",cancelButtonText:"Cancel"}).then((()=>{e.push("/user")})).catch((()=>{}))}const _e=[{path:"/",redirect:"/home"},{path:"/home",name:"Home",component:()=>pe((()=>import("./index.7af0c010.js")),["assets/index.7af0c010.js","assets/index.68ff1619.css","assets/index.1ecade4d.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/Swiper.207ff6bc.js","assets/Divider.e5223367.js","assets/PropductCard.aa016d3e.js","assets/Empty.ba2facb9.js","assets/loading.88b8f828.js"]),children:[{path:"/home/search",name:"Search",component:()=>pe((()=>import("./index.7c24eb7b.js")),["assets/index.7c24eb7b.js","assets/index.1ecade4d.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/PropductCard.aa016d3e.js","assets/Empty.ba2facb9.js"])}]},{path:"/category",name:"Category",component:()=>pe((()=>import("./index.01bd3ebe.js")),["assets/index.01bd3ebe.js","assets/index.1ecade4d.css","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/Divider.e5223367.js","assets/Empty.ba2facb9.js","assets/loading.88b8f828.js"]),meta:{name:"商品分类"}},{path:"/topic",name:"Topic",component:()=>pe((()=>import("./index.be00ddd6.js")),["assets/index.be00ddd6.js","assets/index.1ecade4d.css","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/loading.88b8f828.js"]),meta:{name:"精选专题"}},{path:"/cart",name:"Cart",component:()=>pe((()=>import("./index.76205310.js")),["assets/index.76205310.js","assets/index.066fed03.css","assets/index.1ecade4d.css","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/loading.88b8f828.js","assets/Empty.ba2facb9.js"]),meta:{name:"购物车"}},{path:"/user",name:"User",component:()=>pe((()=>import("./index.ed25acad.js")),["assets/index.ed25acad.js","assets/index.93db36ba.css","assets/index.1ecade4d.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css"])},{path:"/user/info",name:"UserInfo",component:()=>pe((()=>import("./GridUserInfo.3fa76070.js")),["assets/GridUserInfo.3fa76070.js","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css"]),meta:{name:"用户资料"}},{path:"/orders",name:"Orders",component:()=>pe((()=>import("./GridOrders.a54f1209.js")),["assets/GridOrders.a54f1209.js","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css"]),meta:{name:"订单管理"}},{path:"/user/locations",name:"Locations",component:()=>pe((()=>import("./GridLocation.e66d74e9.js")),["assets/GridLocation.e66d74e9.js","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css"]),meta:{name:"收货地址"}},{path:"/coupons",name:"Coupons",component:()=>pe((()=>import("./GridCoupons.d486cd61.js")),["assets/GridCoupons.d486cd61.js","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/Empty.ba2facb9.js"]),meta:{name:"优惠券"}},{path:"/service",name:"Service",component:()=>pe((()=>import("./GridService.eb5449dc.js")),["assets/GridService.eb5449dc.js","assets/NavBer.118e659f.js","assets/NavBer.33bd9ad6.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/Empty.ba2facb9.js"]),meta:{name:"客服咨询"}},{path:"/detail",name:"Detail",component:()=>pe((()=>import("./index.b015d883.js")),["assets/index.b015d883.js","assets/index.2dff5d62.css","assets/index.1ecade4d.css","assets/vendor.ee1905bb.js","assets/vendor.32c00818.css","assets/Swiper.207ff6bc.js","assets/Divider.e5223367.js","assets/PropductCard.aa016d3e.js","assets/loading.88b8f828.js"])},{path:"/login",name:"Login",component:()=>pe((()=>import("./index.d60ce420.js")),[])}],Ae=h({history:_(),routes:_e});Ae.beforeEach(((e,t,s)=>{document.body.scrollTop=0,document.documentElement.scrollTop=0,window.pageYOffset=0;let a=localStorage.getItem("user");"/cart"!=e.path&&"/user/info"!=e.path&&"/orders"!=e.path?"/user/locations"!=e.path||a?s():he(Ae):a?s():he(Ae)}));const ge=A.create({baseURL:"http://kumanxuan1.f3322.net:8001",timeout:5e3});ge.interceptors.request.use((e=>{let t=localStorage.getItem("user");return t&&(e.headers["X-Nideshop-Token"]=JSON.parse(t).token),e}),(e=>Promise.reject(e))),ge.interceptors.response.use((e=>e.data),(e=>Promise.reject(e)));var fe=g({state:{searchValue:"",searchResult:{list:[],menu:[],resPage:1,isEmptyList:!0},isShowUserLoginPopup:!1,user:{avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAB+BAMAAAAQDbi7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURfjz8NTIvOPa0drQxe3l3/Pt6dJ8uJYAAAGKSURBVFjD7ZjNboMwEIT5vccxuZPS3qHJA4SouQPp+z9LkSJVBduw42mEqnrun9de744XoigoKCgoKCjoN5V/VI1Sp5eLH34d4YdePejPb3rUGQ+uJkIXiNVMJcanc35P8uAGEsVtwOQVVAWZyddkfOgAR5NXHZN+7AZs4YEE5DZcHZjsjyq44wMXYOe1f/c9FPg/wqdP4TXjHlD9sjzbfxnZ/3b/2Mn9q+H8y+5/cv8crPyppI4vv8DEwWuu/MV8vHH89En5K6jyBxrAwddU+QIF3Nv5jvMfTfa/3D+ilpx/soac3zJy/oyI7NkdsMD4lhp/LR4AfoQl3PeHkYAa5Xsm+0YNlzAf3ZnTz0poF/j/xl9/NoB+v2H0YPgHskJWWZ/fm8/WJ3uQvEB5pZzSb17WD/yIGdSK9h2FLy8gwJcWEOFuN0qUUGefzK/a6VGMK90t++2qCvHQ59BFNLK4deDCGxnoQX5+BQ3KF9T25y9yDPPTabbF+dKz9qwTSUPyOD59U7bmm634LwhiuCxbAoGfAAAAAElFTkSuQmCC",gender:"",id:"",nickname:"请先登陆",username:""},sku:{isSkuShow:!1,amount:1},cart:{cartAmount:0}},mutations:{getSearchValue(e,t){e.searchValue=t},getSearchResult(e,t){e.searchResult=t,e.searchResult.isEmptyList=0==e.searchResult.list.length},showUserLoginPopup(e){e.isShowUserLoginPopup=!0},closeUserLoginPopup(e){e.isShowUserLoginPopup=!1},saveUserInfo(e,t){let s=t.userInfo;e.user.avatar=s.avatar,e.user.gender=s.gender,e.user.id=s.id,e.user.nickname=s.nickname,e.user.username=s.username,e.user.token=t.token;let a=JSON.stringify(e.user);localStorage.setItem("user",a)},showSku(e){e.sku.isSkuShow=!0},closeSku(e){e.sku.isSkuShow=!1},changeSku(e,t){let{amount:s,goodsId:a}=t;e.sku.amount=s,e.sku.goodsId=a},changeCartAmount(e,t){e.cart.cartAmount=t}},getters:{list:e=>e.searchResult.list,isEmptyList:e=>e.searchResult.isEmptyList,menu:e=>e.searchResult.menu,currentPage:e=>e.searchResult.resPage},actions:{getUserInfo(e,t){(e=>ge({method:"POST",url:"/auth/loginByWeb",data:e}))(t).then((t=>{0==t.errno&&(e.commit("saveUserInfo",t.data),e.commit("closeUserLoginPopup"))}))},getCartAmount(e){ge({method:"GET",url:"/cart/goodscount"}).then((t=>{let s=t.data.cartTotal.goodsCount;e.commit("changeCartAmount",s)}))},addToCart(e,t){let{goodsId:s,productId:a,number:o}=t;(e=>ge({method:"POST",url:"/cart/add",data:e}))({goodsId:s,productId:a,number:o}).then((t=>{let s=t.data.cartTotal.goodsCount;e.commit("changeCartAmount",s)}))}},modules:{}});const Ee=f(de);Ee.use(Ae).use(fe),Ee.use(E).use(P).use(b).use(L).use(I).use(S).use(T).use(y).use(v).use(k).use(V).use(O).use(j).use(R).use(U).use(C).use(D).use(w).use(x).use(N).use(G).use(B).use(H).use(K).use(Q).use(J).use(M).use(q).use(F).use(Z).use(z).use(W).use(X).use(Y).use($).use(ee).use(te).use(se).use(ae).use(oe),Ee.mount("#app");export{ge as i};
